basePath: /
definitions:
  dto.BatchDeleteRequest:
    properties:
      article_ids:
        items:
          type: integer
        minItems: 1
        type: array
    required:
    - article_ids
    type: object
  dto.BatchUpdateCoverRequest:
    properties:
      article_ids:
        items:
          type: integer
        minItems: 1
        type: array
      cover:
        maxLength: 500
        type: string
    required:
    - article_ids
    - cover
    type: object
  dto.BatchUpdateFieldsRequest:
    properties:
      article_ids:
        items:
          type: integer
        minItems: 1
        type: array
      category_id:
        description: 分类ID，可选
        type: integer
      chapter_id:
        description: 章节ID，可选
        type: integer
      cover:
        description: 封面，可选
        type: string
      tag_ids:
        description: 标签ID列表，可选
        items:
          type: integer
        type: array
    required:
    - article_ids
    type: object
  dto.ChangePasswordRequest:
    properties:
      new_password:
        minLength: 6
        type: string
      old_password:
        type: string
    required:
    - new_password
    - old_password
    type: object
  dto.CreateArticleRequest:
    properties:
      category_id:
        type: integer
      chapter_id:
        description: 章节ID，可为空
        type: integer
      content_html:
        description: 可选，如果不传则自动从 Markdown 转换
        type: string
      content_markdown:
        type: string
      cover:
        maxLength: 500
        type: string
      status:
        description: '0: draft, 1: published, 2: offline'
        enum:
        - 0
        - 1
        - 2
        type: integer
      summary:
        maxLength: 500
        type: string
      tag_ids:
        items:
          type: integer
        type: array
      title:
        maxLength: 200
        type: string
    required:
    - category_id
    - content_markdown
    - title
    type: object
  dto.CreateCommentRequest:
    properties:
      article_id:
        description: 可为空，NULL表示留言板消息
        type: integer
      content:
        maxLength: 1000
        minLength: 1
        type: string
      parent_id:
        type: integer
      reply_to_user_id:
        description: 被回复的用户ID
        type: integer
      user_id:
        type: integer
    required:
    - content
    type: object
  dto.CreateGuestbookMessageRequest:
    properties:
      content:
        maxLength: 1000
        minLength: 1
        type: string
      parent_id:
        type: integer
      reply_to_user_id:
        description: 被回复的用户ID
        type: integer
      user_id:
        type: integer
    required:
    - content
    type: object
  dto.CreateUserRequest:
    properties:
      avatar:
        maxLength: 500
        type: string
      bio:
        maxLength: 500
        type: string
      email:
        type: string
      nickname:
        maxLength: 50
        type: string
      password:
        maxLength: 50
        minLength: 6
        type: string
      status:
        description: '0: banned, 1: active'
        enum:
        - 0
        - 1
        type: integer
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - email
    - password
    - username
    type: object
  dto.LoginRequest:
    properties:
      password:
        maxLength: 50
        minLength: 6
        type: string
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - password
    - username
    type: object
  dto.RegisterRequest:
    properties:
      avatar:
        maxLength: 500
        type: string
      email:
        type: string
      nickname:
        maxLength: 50
        type: string
      password:
        maxLength: 50
        minLength: 6
        type: string
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - email
    - password
    - username
    type: object
  dto.UpdateArticleRequest:
    properties:
      category_id:
        type: integer
      chapter_id:
        description: 章节ID，可为空
        type: integer
      content_html:
        description: 可选
        type: string
      content_markdown:
        type: string
      cover:
        maxLength: 500
        type: string
      status:
        enum:
        - 0
        - 1
        - 2
        type: integer
      summary:
        maxLength: 500
        type: string
      tag_ids:
        items:
          type: integer
        type: array
      title:
        maxLength: 200
        type: string
    type: object
  dto.UpdateArticleStatusRequest:
    properties:
      status:
        enum:
        - 0
        - 1
        - 2
        type: integer
    required:
    - status
    type: object
  dto.UpdateProfileRequest:
    properties:
      avatar:
        type: string
      bio:
        type: string
      contacts:
        description: JSON对象格式
        type: string
      email:
        type: string
      is_blogger:
        description: 是否为博主（仅管理员可设置）
        type: boolean
      nickname:
        type: string
      skills:
        description: JSON数组格式
        type: string
    type: object
  dto.UpdateUserRequest:
    properties:
      avatar:
        maxLength: 500
        type: string
      bio:
        maxLength: 500
        type: string
      contacts:
        maxLength: 1000
        type: string
      email:
        type: string
      nickname:
        maxLength: 50
        type: string
      password:
        maxLength: 50
        minLength: 6
        type: string
      skills:
        maxLength: 500
        type: string
      status:
        enum:
        - 0
        - 1
        type: integer
      username:
        maxLength: 50
        minLength: 3
        type: string
    type: object
  response.Response:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
    type: object
host: localhost:8888
info:
  contact:
    email: support@example.com
    name: API Support
    url: https://github.com/ydcloud-dy/leaf-api/issues
  description: 博客系统后端 API 文档
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://github.com/ydcloud-dy/leaf-api
  title: Leaf API
  version: 1.0.0
paths:
  /articles:
    post:
      consumes:
      - application/json
      description: 创建一篇新文章
      parameters:
      - description: 文章信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateArticleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建文章
      tags:
      - 文章管理
  /articles/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除文章
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除文章
      tags:
      - 文章管理
    get:
      consumes:
      - application/json
      description: 根据ID获取文章详细信息
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取文章详情
      tags:
      - 文章管理
    put:
      consumes:
      - application/json
      description: 更新文章信息
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      - description: 文章信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateArticleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新文章
      tags:
      - 文章管理
  /articles/{id}/status:
    patch:
      consumes:
      - application/json
      description: 更新文章的发布状态（草稿/已发布）
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      - description: 状态信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateArticleStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新文章状态
      tags:
      - 文章管理
  /articles/batch-delete:
    post:
      consumes:
      - application/json
      description: 批量删除多篇文章
      parameters:
      - description: 删除文章ID列表
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.BatchDeleteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 批量删除文章
      tags:
      - 文章管理
  /articles/batch-update-cover:
    post:
      consumes:
      - application/json
      description: 批量更新多篇文章的封面图
      parameters:
      - description: 封面更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.BatchUpdateCoverRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 批量更新文章封面
      tags:
      - 文章管理
  /articles/batch-update-fields:
    post:
      consumes:
      - application/json
      description: 批量更新多篇文章的指定字段（状态、分类、标签等）
      parameters:
      - description: 字段更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.BatchUpdateFieldsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 批量更新文章字段
      tags:
      - 文章管理
  /articles/import:
    post:
      consumes:
      - multipart/form-data
      description: 批量导入Markdown文件为文章
      parameters:
      - description: Markdown文件（可多个）
        in: formData
        name: files
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: 导入成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 批量导入Markdown文件
      tags:
      - 文章管理
  /auth/login:
    post:
      consumes:
      - application/json
      description: 使用用户名和密码登录，返回 JWT Token
      parameters:
      - description: 登录信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 登录成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 认证失败
          schema:
            $ref: '#/definitions/response.Response'
      summary: 管理员登录
      tags:
      - 认证管理
  /auth/logout:
    post:
      consumes:
      - application/json
      description: 退出登录
      produces:
      - application/json
      responses:
        "200":
          description: 登出成功
          schema:
            $ref: '#/definitions/response.Response'
      summary: 管理员登出
      tags:
      - 认证管理
  /auth/profile:
    get:
      consumes:
      - application/json
      description: 获取当前登录管理员的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取当前管理员信息
      tags:
      - 认证管理
    put:
      consumes:
      - application/json
      description: 更新当前登录管理员的个人信息
      parameters:
      - description: 更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新当前管理员信息
      tags:
      - 认证管理
  /blog/articles:
    get:
      consumes:
      - application/json
      description: 分页获取文章列表，支持筛选和搜索
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 分类
        in: query
        name: category
        type: string
      - description: 标签
        in: query
        name: tag
        type: string
      - description: 状态
        in: query
        name: status
        type: string
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      - default: latest
        description: 排序方式
        in: query
        name: sort
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取文章列表
      tags:
      - 文章管理
  /blog/articles/{id}:
    get:
      consumes:
      - application/json
      description: 获取文章详细内容，包含用户点赞收藏状态（需登录）
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: 文章不存在
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取文章详情
      tags:
      - 博客前台
  /blog/articles/{id}/comments:
    get:
      consumes:
      - application/json
      description: 获取指定文章的评论列表（包含用户点赞状态）
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取文章评论
      tags:
      - 博客前台
  /blog/articles/{id}/favorite:
    delete:
      consumes:
      - application/json
      description: 用户取消收藏文章
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 取消成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 取消收藏文章
      tags:
      - 博客前台
    post:
      consumes:
      - application/json
      description: 用户收藏文章
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 收藏成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 收藏文章
      tags:
      - 博客前台
  /blog/articles/{id}/like:
    delete:
      consumes:
      - application/json
      description: 用户取消点赞文章
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 取消成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 取消点赞文章
      tags:
      - 博客前台
    post:
      consumes:
      - application/json
      description: 用户点赞文章
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 点赞成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 点赞文章
      tags:
      - 博客前台
  /blog/articles/archive:
    get:
      consumes:
      - application/json
      description: 获取文章归档列表，按时间归档
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 100
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取归档文章
      tags:
      - 博客前台
  /blog/articles/search:
    get:
      consumes:
      - application/json
      description: 根据关键词搜索文章
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: latest
        description: 排序方式
        in: query
        name: sort
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 搜索成功
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 搜索文章
      tags:
      - 博客前台
  /blog/auth/login:
    post:
      consumes:
      - application/json
      description: 博客前台用户登录
      parameters:
      - description: 登录信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 登录成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 认证失败
          schema:
            $ref: '#/definitions/response.Response'
      summary: 用户登录
      tags:
      - 博客前台
  /blog/auth/me:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: 用户不存在
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取当前用户信息
      tags:
      - 博客前台
  /blog/auth/password:
    put:
      consumes:
      - application/json
      description: 用户修改登录密码
      parameters:
      - description: 密码信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 修改成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 修改密码
      tags:
      - 博客前台
  /blog/auth/profile:
    put:
      consumes:
      - application/json
      description: 用户更新个人资料
      parameters:
      - description: 用户资料
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新用户资料
      tags:
      - 博客前台
  /blog/auth/register:
    post:
      consumes:
      - application/json
      description: 博客前台用户注册
      parameters:
      - description: 注册信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 注册成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 用户注册
      tags:
      - 博客前台
  /blog/blogger:
    get:
      consumes:
      - application/json
      description: 获取博主的个人信息（用于关于页面）
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取博主信息
      tags:
      - 博客前台
  /blog/categories:
    get:
      consumes:
      - application/json
      description: 获取所有文章分类
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取分类列表
      tags:
      - 分类管理
  /blog/chapters/{tag}:
    get:
      consumes:
      - application/json
      description: 获取指定标签下的章节树形结构及文章列表（用于前端笔记页面）
      parameters:
      - description: 标签名称
        in: path
        name: tag
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: 标签不存在
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取标签下的章节和文章
      tags:
      - 博客前台
  /blog/comments:
    post:
      consumes:
      - application/json
      description: 用户发表评论
      parameters:
      - description: 评论信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateCommentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建评论
      tags:
      - 博客前台
  /blog/comments/{id}:
    delete:
      consumes:
      - application/json
      description: 用户删除自己的评论
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除评论
      tags:
      - 博客前台
  /blog/comments/{id}/like:
    delete:
      consumes:
      - application/json
      description: 用户取消点赞评论
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 取消成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 取消点赞评论
      tags:
      - 博客前台
    post:
      consumes:
      - application/json
      description: 用户点赞评论
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 点赞成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 点赞评论
      tags:
      - 博客前台
  /blog/guestbook:
    get:
      consumes:
      - application/json
      description: 获取留言板消息列表（包含用户点赞状态）
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取留言板消息
      tags:
      - 博客前台
    post:
      consumes:
      - application/json
      description: 用户在留言板发表留言
      parameters:
      - description: 留言信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateGuestbookMessageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建留言板消息
      tags:
      - 博客前台
  /blog/heartbeat:
    post:
      consumes:
      - application/json
      description: 记录用户在线状态，登录用户按UserID追踪，未登录按IP追踪
      produces:
      - application/json
      responses:
        "200":
          description: 记录成功
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 记录用户心跳
      tags:
      - 在线追踪
  /blog/stats:
    get:
      consumes:
      - application/json
      description: 获取网站统计数据（文章数、用户数、浏览量、在线人数等）
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取统计数据
      tags:
      - 统计数据
  /blog/stats/hot-articles:
    get:
      consumes:
      - application/json
      description: 获取浏览量最高的热门文章（Top 10）
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取热门文章
      tags:
      - 统计数据
  /blog/tags:
    get:
      consumes:
      - application/json
      description: 获取所有文章标签
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取标签列表
      tags:
      - 标签管理
  /blog/user/favorites:
    get:
      consumes:
      - application/json
      description: 获取当前用户收藏的文章列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取用户收藏列表
      tags:
      - 博客前台
  /blog/user/likes:
    get:
      consumes:
      - application/json
      description: 获取当前用户点赞的文章列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取用户点赞列表
      tags:
      - 博客前台
  /blog/user/stats:
    get:
      consumes:
      - application/json
      description: 获取当前用户的统计信息（点赞数、收藏数等）
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取用户统计信息
      tags:
      - 博客前台
  /blog/visit:
    post:
      consumes:
      - application/json
      description: 记录用户访问页面的时长信息，用于统计分析
      parameters:
      - description: 访问信息 path:页面路径 duration:停留时长(秒)
        in: body
        name: request
        required: true
        schema:
          properties:
            duration:
              type: integer
            path:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 记录成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      summary: 记录页面访问时长
      tags:
      - 在线追踪
  /categories:
    post:
      consumes:
      - application/json
      description: 创建新的文章分类
      parameters:
      - description: 分类信息
        in: body
        name: request
        required: true
        schema:
          properties:
            description:
              type: string
            name:
              type: string
            sort:
              type: integer
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建分类
      tags:
      - 分类管理
  /categories/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除文章分类
      parameters:
      - description: 分类ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除分类
      tags:
      - 分类管理
  /chapters:
    get:
      consumes:
      - application/json
      description: 获取章节列表，可按标签ID筛选
      parameters:
      - description: 标签ID
        in: query
        name: tag_id
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取章节列表
      tags:
      - 章节管理
    post:
      consumes:
      - application/json
      description: 创建新的文章章节
      parameters:
      - description: 章节信息
        in: body
        name: request
        required: true
        schema:
          properties:
            name:
              type: string
            parent_id:
              type: integer
            sort:
              type: integer
            tag_id:
              type: integer
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建章节
      tags:
      - 章节管理
  /chapters/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除章节（章节下有文章时无法删除）
      parameters:
      - description: 章节ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误或章节下有文章
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: 章节不存在
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除章节
      tags:
      - 章节管理
    get:
      consumes:
      - application/json
      description: 根据ID获取章节详细信息
      parameters:
      - description: 章节ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: 章节不存在
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取章节详情
      tags:
      - 章节管理
    put:
      consumes:
      - application/json
      description: 更新章节信息
      parameters:
      - description: 章节ID
        in: path
        name: id
        required: true
        type: integer
      - description: 章节信息
        in: body
        name: request
        required: true
        schema:
          properties:
            name:
              type: string
            parent_id:
              type: integer
            sort:
              type: integer
            tag_id:
              type: integer
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: 章节不存在
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新章节
      tags:
      - 章节管理
  /comments:
    get:
      consumes:
      - application/json
      description: 分页获取评论列表，支持按文章ID和状态筛选
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      - description: 文章ID
        in: query
        name: article_id
        type: integer
      - description: 评论状态
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取评论列表
      tags:
      - 评论管理
  /comments/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除评论
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除评论
      tags:
      - 评论管理
  /comments/{id}/status:
    patch:
      consumes:
      - application/json
      description: 更新评论的审核状态（待审核/已通过/已拒绝）
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: integer
      - description: 状态信息 0:待审核 1:已通过 2:已拒绝
        in: body
        name: request
        required: true
        schema:
          properties:
            status:
              type: integer
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新评论状态
      tags:
      - 评论管理
  /files:
    get:
      consumes:
      - application/json
      description: 分页获取已上传的文件列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取文件列表
      tags:
      - 文件管理
  /files/{id}:
    delete:
      consumes:
      - application/json
      description: 删除OSS上的文件及数据库记录
      parameters:
      - description: 文件ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除文件
      tags:
      - 文件管理
  /files/upload:
    post:
      consumes:
      - multipart/form-data
      description: 上传文件到OSS，支持图片、视频等多种文件类型
      parameters:
      - description: 文件
        in: formData
        name: file
        required: true
        type: file
      - default: uploads
        description: 文件夹名称
        in: formData
        name: folder
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 上传成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 上传文件
      tags:
      - 文件管理
  /settings:
    get:
      consumes:
      - application/json
      description: 获取所有系统配置项
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取系统设置
      tags:
      - 系统设置
    put:
      consumes:
      - application/json
      description: 批量更新系统配置项
      parameters:
      - description: 配置项键值对
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新系统设置
      tags:
      - 系统设置
  /tags:
    post:
      consumes:
      - application/json
      description: 创建新的文章标签
      parameters:
      - description: 标签信息
        in: body
        name: request
        required: true
        schema:
          properties:
            color:
              type: string
            name:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建标签
      tags:
      - 标签管理
  /tags/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除文章标签
      parameters:
      - description: 标签ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除标签
      tags:
      - 标签管理
  /users:
    get:
      consumes:
      - application/json
      description: 分页获取用户列表，支持关键词搜索和状态筛选
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      - description: 用户状态
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取用户列表
      tags:
      - 用户管理
    post:
      consumes:
      - application/json
      description: 创建新用户
      parameters:
      - description: 用户信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建用户
      tags:
      - 用户管理
  /users/{id}:
    delete:
      consumes:
      - application/json
      description: 根据ID删除用户
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除用户
      tags:
      - 用户管理
    get:
      consumes:
      - application/json
      description: 根据ID获取用户详细信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取用户详情
      tags:
      - 用户管理
    put:
      consumes:
      - application/json
      description: 更新用户信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: 用户信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/response.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/response.Response'
        "401":
          description: 未授权
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新用户
      tags:
      - 用户管理
securityDefinitions:
  BearerAuth:
    description: JWT Token，格式：Bearer {token}
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
